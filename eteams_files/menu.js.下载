(this.webpackJsonpweappUi=this.webpackJsonpweappUi||[]).push([[294],{1002:function(e,t,n){"use strict";n.d(t,"o",(function(){return c})),n.d(t,"s",(function(){return r})),n.d(t,"m",(function(){return s})),n.d(t,"n",(function(){return l})),n.d(t,"l",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return f})),n.d(t,"i",(function(){return b})),n.d(t,"j",(function(){return h})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return O})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return I})),n.d(t,"q",(function(){return y})),n.d(t,"p",(function(){return C})),n.d(t,"r",(function(){return x})),n.d(t,"k",(function(){return D})),n.d(t,"h",(function(){return P}));var o=n(19),i=n(1),a=n(186);function c(e){return("transform"in e||"webkitTransform"in e||"MozTransform"in e)&&window.atob}function r(e,t){e.transform=t,e.webkitTransform=t}function s(e,t){var n=!1,o=p(e);return t&&o.indexOf(t)>-1&&(n=!0),n}function l(e,t){var n=!1;return e&&t&&t.length>0&&(n=t.indexOf(e)>-1),n}function u(e,t){var n="";if("string"===typeof t&&e&&e.length>0){var o=function(e,t){var n={id:""},o=v(e,1,"");o.length>0&&(n=o.filter((function(e){return e.id===t}))[0]);return n}(e,t);o&&"content"in o&&(n=o.content||"")}return n}function d(e,t){var n=[],i=e.filter((function(e){return e.id===t}))[0]||{};if(i.children&&i.children.length>0&&(n=[i].concat(Object(o.a)(n))),i.parentId){var a=d(e,i.parentId);n=[].concat(Object(o.a)(a),Object(o.a)(n))}return n}function p(e){var t=[];return e&&e.length>0&&e.forEach((function(e){if(t.push(e.id),e.children){var n=p(e.children);t=[].concat(Object(o.a)(t),Object(o.a)(n))}})),t}function v(e,t,n){var a=[];return e&&e.length>0&&e.forEach((function(e){if(a.push(Object(i.a)(Object(i.a)({},e),{},{level:t,parentId:n})),e.children){var c=v(e.children,t+1,e.id);a=[].concat(Object(o.a)(a),Object(o.a)(c))}})),a}function f(e,t,n){var i=v(e||[],1,""),a=[],c=i.filter((function(e){return e.id===t}))[0];return s(n.children||[],t||"")?a=d(i,c.parentId||""):(a=d(i,n.parentId||""),n.children&&(a=[].concat(Object(o.a)(a),[n]))),a}function b(e){switch(e){case"top":return"bottomLeft";case"left":return"bottomRight";case"right":default:return"bottomLeft"}}function h(e){switch(e){case"top":return"rightTop";case"left":return"leftTop";case"right":default:return"rightTop"}}var m=function e(t){if(!t)return null;for(var n=null,o=0;o<t.length;o++){var i,a=t.item(o),c=null===a||void 0===a||null===(i=a.getAttribute)||void 0===i?void 0:i.call(a,"class");if(!c||c.indexOf("ui-m-menu")<0)break;if(c.indexOf("ui-m-menu-list-subitem-title")>-1)n=e(a.children);else if(c.indexOf("ui-m-menu-list-item-content")>-1){n=a;break}}return n},j=function e(t,n){var o=t,i=n.find((function(e){return e.id===t}));return i&&i.parentId&&(o=e(i.parentId,n)),o},O=function(e,t){if(!t)return e;var n=v(t||[],1,"");return j(e,n)},g=function(e,t){var n=0;return Object.keys(e).map((function(o){t.indexOf(o)>-1&&(n+=e[o].width)})),n},w=function e(t){var n=["id","title","parentId","groupId","content","icon","rightIcon","disabled","closeable","hide"],o={};return Object.keys(t).map((function(i){var a;"children"===i&&(null===(a=t[i])||void 0===a?void 0:a.length)>0&&(o[i]=t[i].map((function(t){return e(t)}))),(n.indexOf(i)>-1&&"boolean"===typeof t[i]||"string"===typeof t[i])&&(o[i]=t[i])})),o},I=function(e){var t=[];return null===e||void 0===e||e.map((function(e){var n=w(e);t.push(n)})),t},y=function(e){return!(e&&e.length>0)||(null===e||void 0===e?void 0:e.some((function(e){return"icon"in e})))},C=function(e){return null===e||void 0===e?void 0:e.some((function(e){return"groupId"in e}))},x=function(e,t){for(var n=Object(o.a)(e),i=a.b.slice(a.b.indexOf(t.id)+1),c="",r=function(e){if(n.find((function(t){return t.id===i[e]})))return c=i[e],"break"},s=0;s<i.length;s++){if("break"===r(s))break}if(c){var l=[];return n.forEach((function(e){e.id===c&&l.push(t),l.push(e)})),l}return n.push(t),n},D=function(e,t,n){var o=t;return"select"===e?o="horizontal":"menu"===e&&(n?o="vertical":t&&"vertical"===t||(o="inline")),o},P=function e(t,n){var o,i,a=[t],c=null===(o=n[t])||void 0===o?void 0:o.parentIds;return null===c||void 0===c||null===(i=c.forEach)||void 0===i||i.call(c,(function(t){var o=e(t,n);a=a.concat(o)})),a}},1213:function(e,t,n){"use strict";var o=n(1214),i={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,a,c,r,s,l,u=!1;t||(t={}),n=t.debug||!1;try{if(c=o(),r=document.createRange(),s=document.getSelection(),(l=document.createElement("span")).textContent=e,l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",(function(o){if(o.stopPropagation(),t.format)if(o.preventDefault(),"undefined"===typeof o.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var a=i[t.format]||i.default;window.clipboardData.setData(a,e)}else o.clipboardData.clearData(),o.clipboardData.setData(t.format,e);t.onCopy&&(o.preventDefault(),t.onCopy(o.clipboardData))})),document.body.appendChild(l),r.selectNodeContents(l),s.addRange(r),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(d){n&&console.error("unable to copy using execCommand: ",d),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),u=!0}catch(d){n&&console.error("unable to copy using clipboardData: ",d),n&&console.error("falling back to prompt"),a=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(a,e)}}finally{s&&("function"==typeof s.removeRange?s.removeRange(r):s.removeAllRanges()),l&&document.body.removeChild(l),c()}return u}},1214:function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},1215:function(e,t,n){"use strict";var o=n(1),i=n(12),a=n(13),c=n(15),r=n(17),s=n(18),l=n(8),u=n.n(l),d=n(0),p=n(7),v=n(53),f=n(40),b=n(9),h=n(2),m=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(e){var o;return Object(a.a)(this,n),(o=t.call(this,e)).menuRef=void 0,o.getPopupContainer=function(){return o.menuRef},o.saveMenuRef=function(e){o.menuRef=e},o.onPopupVisibleChange=function(e){var t=o.props.triggerProps;o.setState({popupVisible:e}),t&&"function"===typeof t.onPopupVisibleChange&&t.onPopupVisibleChange(e)},o.onClick=function(e){var t,n,i=o.props,a=i.itemData,c=i.collapsed;null===(t=(n=o.props).onClick)||void 0===t||t.call(n,a,e),c&&o.onPopupVisibleChange(!1)},o.onMouseDown=function(e){var t,n,i=o.props.itemData;null===(t=(n=o.props).onMouseDown)||void 0===t||t.call(n,i,e)},o.onDel=function(e){var t,n;Object(b.pauseEvent)(e);var i=o.props.id;null===(t=(n=o.props).onDel)||void 0===t||t.call(n,i||"")},o.renderItem=function(e,t,n,a){var c,r=o.props,s=r.level,l=r.prefixCls,u=r.className,v=r.style,b=r.active,m=r.icon,j=r.activeIcon,O=r.rightIcon,g=r.content,w=r.disabled,I=r.closeable,y=r.editable,C=r.title,x=r.closeIcon,D=r.closeTitle,P=r.id,k=r.isGroupCutLine,S=r.type,E=r.parentId,R=r.showContentWrap,N=r.textIndentIndex,T=r.itemData,M=r.customRenderItemContent,A=s,V=Object(d.classnames)((c={},Object(i.a)(c,"".concat(l,"-list-item"),!0),Object(i.a)(c,"".concat(l,"-list-item-active"),b),Object(i.a)(c,"".concat(l,"-list-item-").concat(S,"-correct"),"rightMenu"===S&&E&&b),Object(i.a)(c,"".concat(l,"-list-item-disabled"),w),Object(i.a)(c,"".concat(l,"-list-item-closable"),I),Object(i.a)(c,"".concat(l,"-list-item-editable"),y),Object(i.a)(c,"".concat(l,"-parent-icon"),1===A),Object(i.a)(c,"".concat(l,"-children-icon"),A>1),c),u||""),L="menu"===S&&N?"".concat(l,"-list-item-indent-").concat(N):"",G=Object(h.jsx)("span",{className:"".concat(l,"-list-item-closeicon"),onClick:o.onDel,title:D||Object(d.getLabel)("21778","\u5220\u9664"),children:x?"string"===typeof x?Object(h.jsx)(f.b,{weId:"".concat(o.props.weId||"","_phcom5"),name:x}):x:Object(h.jsx)(f.b,{weId:"".concat(o.props.weId||"","_zphs6v"),name:"Icon-error01",size:"xs"})}),W=Object(h.jsx)("span",{className:"".concat(l,"-list-item-content ").concat(e&&(j||m)?"":L),children:"function"===typeof M?M(T):g});W=R?Object(h.jsx)("div",{className:"".concat(l,"-list-item-content-wrap"),children:W}):W;var z=Object(h.jsxs)("div",{ref:o.saveMenuRef,className:V,style:v,id:P,title:C||("string"===typeof g?g:""),onClick:o.onClick,onMouseDown:o.onMouseDown,children:["rightMenu"===S&&E&&Object(h.jsx)("div",{className:"".concat(p.rightMenuClsPrefix,"-active-icon"),children:b&&Object(h.jsx)(f.b,{name:"Icon-correct01",weId:"".concat(o.props.weId||"","_oy81pk"),style:{width:12,height:12}})}),e&&j&&Object(h.jsx)("span",{className:"".concat(l,"-list-item-activeicon ").concat(L),children:b?"string"===typeof j?Object(h.jsx)(f.b,{weId:"".concat(o.props.weId||"","_attxpk"),name:j,size:"menu"===S?"s":"xs"}):j:""}),e&&m&&Object(h.jsx)("span",{className:"".concat(l,"-list-item-lefticon ").concat(L),children:"string"===typeof m?Object(h.jsx)(f.b,{weId:"".concat(o.props.weId||"","_attxpk"),name:m,size:"menu"===S?"s":"xs"}):m}),t&&g&&W,a&&O&&Object(h.jsx)("span",{className:"".concat(l,"-list-item-righticon"),children:"string"===typeof O?Object(h.jsx)(f.b,{weId:"".concat(o.props.weId||"","_nh02kf"),name:O,size:"menu"===S?"s":"xs"}):O}),n&&I&&G]});return k?Object(h.jsxs)(h.Fragment,{children:[k&&Object(h.jsx)("div",{className:"".concat(l,"-list-item-cutline")}),z]}):z},o.state={popupVisible:!1},o}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.overlayClassName,i=e.collapsed,a=e.action,c=e.id,r=e.popupPlacement,s=e.triggerProps,l=e.customRenderItem,u=e.itemData,p=this.state.popupVisible,f=null;if(i){var b=Object(d.classnames)("".concat(t,"-trigger"),n),m=Object(h.jsx)("div",{className:b,children:this.renderItem(!1,!0,!1,!1)}),j=Object(d.classnames)(n,null===s||void 0===s?void 0:s.popupClassName);f=Object(h.jsx)(v.a,Object(o.a)(Object(o.a)({weId:"".concat(this.props.weId||"","_8mch72"),action:a,popup:m},s||{}),{},{popupVisible:p,popupPlacement:r,popupClassName:j,onPopupVisibleChange:this.onPopupVisibleChange,children:this.renderItem(!0,!i,!i,!i)}),c)}else f=this.renderItem(!0,!0,!0,!0);return"function"===typeof l?l(this,f,u):f}}]),n}(u.a.PureComponent);m.defaultProps={level:1,inlineIndent:24},t.a=m},1216:function(e,t,n){"use strict";var o=n(1),i=n(12),a=n(13),c=n(15),r=n(17),s=n(18),l=n(8),u=n.n(l),d=n(0),p=n(53),v=n(40),f=n(2),b=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(e){var o;return Object(a.a)(this,n),(o=t.call(this,e)).menuRef=void 0,o.getPopupContainer=function(){return o.menuRef},o.saveMenuRef=function(e){o.menuRef=e},o.onClick=function(e){var t,n,i,a,c=o.props,r=c.itemData,s=c.hasTrigger;(null===(t=(n=o.props).onClick)||void 0===t||t.call(n,r,e),s&&!r.children)&&(o.setState({popupVisible:!1}),null===(i=(a=o.props).onPopupVisibleChange)||void 0===i||i.call(a,!1,r))},o.onPopupVisibleChange=function(e){var t,n,i=o.props,a=i.itemData,c=i.triggerProps;o.setState({popupVisible:e}),null===(t=(n=o.props).onPopupVisibleChange)||void 0===t||t.call(n,e,a),c&&"function"===typeof c.onPopupVisibleChange&&c.onPopupVisibleChange(e)},o.renderItem=function(e,t){var n,a=o.props,c=a.prefixCls,r=a.className,s=a.style,l=a.active,u=a.icon,p=a.id,b=a.rightIcon,h=a.content,m=a.title,j=a.disabled,O=a.hasTrigger,g=a.child,w=a.containerStyle,I=a.isGroupCutLine,y=a.type,C=a.expanded,x=a.showContentWrap,D=a.textIndentIndex,P=a.itemData,k=a.customRenderItemContent,S=Object(d.classnames)("".concat(c,"-list-subitem"),r||""),E="menu"===y&&D?"".concat(c,"-list-item-indent-").concat(D):"",R=Object(d.classnames)((n={},Object(i.a)(n,"".concat(c,"-list-subitem-title"),!0),Object(i.a)(n,"".concat(c,"-list-item-").concat(y),y),Object(i.a)(n,"".concat(c,"-list-item-active"),l),Object(i.a)(n,"".concat(c,"-list-subitem-expand"),C),Object(i.a)(n,"".concat(c,"-list-item-disabled"),j),n)),N=Object(f.jsx)("span",{className:"".concat(c,"-list-item-content ").concat(u?"":E),children:"function"===typeof k?k(P):h});return N=x?Object(f.jsx)("div",{className:"".concat(c,"-list-item-content-wrap"),children:N}):N,Object(f.jsxs)("div",{className:S,style:w,ref:o.saveMenuRef,children:[I&&Object(f.jsx)("div",{className:"".concat(c,"-list-item-cutline")}),Object(f.jsxs)("div",{className:R,style:s,id:p,title:m||("string"===typeof h?h:""),onClick:o.onClick,children:[u&&Object(f.jsx)("span",{className:"".concat(c,"-list-item-lefticon ").concat(E),children:"string"===typeof u?Object(f.jsx)(v.b,{weId:"".concat(o.props.weId||"","_8ysa66"),name:u,size:"menu"===y?"s":"xs"}):u}),e&&h&&N,t&&Object(f.jsx)("span",{className:"".concat(c,"-list-item-righticon"),children:"string"===typeof b?Object(f.jsx)(v.b,{weId:"".concat(o.props.weId||"","_nh02kf"),name:b,size:"menu"===y?"s":"xs"}):b})]}),!O&&g]})},o.state={popupVisible:e.popupVisible||!1},o}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.overlayClassName,i=e.child,a=e.collapsed,c=e.popupPlacement,r=e.action,s=e.hasTrigger,l=e.triggerProps,u=e.customRenderItem,v=e.itemData,b=this.state.popupVisible,h=(r||"").indexOf("click")>-1&&-1===(r||"").indexOf("hover")?[".".concat(t,"-trigger-black")]:[],m=null;if(s){var j=Object(d.classnames)("".concat(t,"-trigger"),"".concat(t,"-trigger-black"),n,null===l||void 0===l?void 0:l.popupClassName);m=Object(f.jsx)(p.a,Object(o.a)(Object(o.a)({weId:"".concat(this.props.weId||"","_ibcgem"),style:{width:"100%"},action:r,popup:i},l||{}),{},{popupVisible:b,popupPlacement:c,popupClassName:j,blacklist:h,onPopupVisibleChange:this.onPopupVisibleChange,children:this.renderItem(!a,!a)}))}else m=this.renderItem(!0,!0);return"function"===typeof u?u(this,m,v):m}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n={};return"popupVisible"in e?(n.popupVisible=e.popupVisible,n):null}}]),n}(u.a.PureComponent);t.a=b},336:function(e,t,n){"use strict";n.r(t);var o=n(13),i=n(15),a=n(17),c=n(18),r=n(8),s=function(e){Object(a.a)(n,e);var t=Object(c.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.dataId,o=e.alwaysVisble,i=e.children;return o||t===n?i:null}}]),n}(r.Component);t.default=s},556:function(e,t,n){"use strict";n.r(t);var o=n(1),i=n(16),a=n.n(i),c=n(24),r=n(13),s=n(15),l=n(17),u=n(18),d=n(8),p=n.n(d),v=n(0),f=n(22),b=n(9),h=n(42),m=n(101),j=n(1002),O=n(186),g=n(2),w=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).push=function(){var t=Object(b.formatParentPath)(e.props);e.props.history.push("".concat(t,"/sensitiveSupport"))},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.push()}},{key:"render",value:function(){var e=this.props,t=e.visible,n=e.onClose;return Object(g.jsx)(h.a,{weId:"".concat(this.props.weId||"","_6w5x67"),app:"@weapp/datasecurity",compName:"SensitiveSupport",visible:t,onClose:n},"sensitive")}}]),n}(p.a.Component),I=Object(f.withRouter)(w);t.default=function e(t){var n=this;Object(r.a)(this,e),this.parent=void 0,this.el=void 0,this.visible=!1,this.enable=!1,this.key=O.g,this.init=Object(c.a)(a.a.mark((function e(){var t,o,i,c,r,s,l,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=new b.CacheStorage,e.next=3,c.request(n.key,{url:"/api/bs/datasecurity/sensitivewordbasesetting/getdata"});case 3:return r=e.sent,s="",r.cacheStorage?s=r.data:(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.status)&&(s=null===r||void 0===r||null===(l=r.data)||void 0===l||null===(u=l.data)||void 0===u?void 0:u.feedback,c.setItem(n.key,s)),n.enable=1===parseInt(s),null===(o=n.parent)||void 0===o||null===(i=o.forceUpdate)||void 0===i||i.call(o),e.abrupt("return",n.enable);case 9:case"end":return e.stop()}}),e)}))),this.overwriteData=function(e){var t=Object(j.q)(e),i=Object(j.p)(e)?{groupId:O.a}:"",a=null===e||void 0===e?void 0:e.find((function(e){return e.id===n.key}));if(n.enable&&!Object(m.d)("datasecurity")&&!a){var c=t?{icon:"Icon-data-security-o"}:{},r=Object(o.a)(Object(o.a)({id:n.key,content:Object(v.getLabel)("140456","\u4e0a\u62a5\u654f\u611f\u8bcd")},c),i);return Object(j.r)(e,r)}return e},this.onClick=function(e){return e===n.key&&n.show()},this.show=function(){var e,t;n.visible=!0,null===(e=n.parent)||void 0===e||null===(t=e.forceUpdate)||void 0===t||t.call(e)},this.close=function(){var e,t;n.visible=!1,null===(e=n.parent)||void 0===e||null===(t=e.forceUpdate)||void 0===t||t.call(e)},this.render=function(e){if(!n.visible)return null;if("Mobile"===v.ua.device){var t=Object(g.jsx)(I,{weId:"".concat(e.weId||"","_dmvk9h"),visible:n.visible,onClose:n.close});return(null===e||void 0===e?void 0:e.needRouter)?Object(g.jsx)(f.BrowserRouter,{weId:"".concat(e.weId||"","_uw48fg"),children:t}):t}return n.visible&&Object(g.jsx)(h.a,{weId:"".concat(e.weId||"","_6w5x67"),app:"@weapp/datasecurity",compName:"SensitiveSupport",visible:n.visible,onClose:n.close})},this.parent=t}},557:function(e,t,n){"use strict";n.r(t);var o=n(19),i=n(1),a=n(32),c=n(13),r=n(0),s=n(11),l=n(9),u=n(101),d=n(1002),p=n(186),v=["createEntityGroupParams","callback"],f=["createEntityGroupParams"],b=s.MDialog.prompt,h=(s.Dialog.message,null);t.default=function e(t){var n=this;Object(c.a)(this,e),this.parent=void 0,this.hasInit=!1,this.isPc="PC"===r.ua.device,this.key=p.d,this.checkGroupResult={},this.emEntityGroupEnable=!1,this.init=function(){var e,t,o;return null===(e=window)||void 0===e||null===(t=e.TEAMS)||void 0===t||null===(o=t.ready)||void 0===o||o.call(t,"ecodeGlobalData",{success:function(){var e,t,o,i;if(n.emEntityGroupEnable="1"===(null===(e=window.TEAMS)||void 0===e||null===(t=e.ecodeGlobalData)||void 0===t||null===(o=t.global)||void 0===o||null===(i=o.emConfig)||void 0===i?void 0:i.emEntityGroupEnable),"PC"===r.ua.device)return n.isPc=!0,Object(r.corsImport)("@weapp/em").then((function(e){e||console.error("em is undefined"),n.hasInit=!0,h=e}));n.hasInit=!0}}),new Promise((function(e){return e(!0)}))},this.success=function(e,t){var o,i;n.checkGroupResult=e,null===(o=n.parent)||void 0===o||null===(i=o.forceUpdate)||void 0===i||i.call(o)},this.checkEntityGroupInner=function(e){n.isAPIExist("checkEntityGroup").then((function(){e.createEntityGroupParams;var t=e.callback,o=Object(a.a)(e,v);n.exec("checkEntityGroup",Object(i.a)(Object(i.a)({},o),{},{success:t||n.success,fail:function(e){console.error("\u67e5\u8be2\u4e8b\u9879\u7fa4\u804a: ".concat(e))}}))}))},this.checkEntityGroup=function(e,t){var o;n.hasInit?!t&&n.checkEntityGroupInner(e):null===(o=n.init())||void 0===o||o.then((function(){!t&&n.checkEntityGroupInner(e)}))},this.isAPIExist=function(e){return n.isPc?new Promise((function(t,n){h&&h[e]&&t(h),n(h)})).catch((function(){console.error("".concat(e," is undefined"))})):r.weappSDK.checkApi(e).catch((function(){console.error("".concat(e," is undefined"))}))},this.exec=function(e,t){var o,i,a=null===t||void 0===t?void 0:t.success,c=null===t||void 0===t?void 0:t.fail;n.isPc||r.weappSDK.exec(e,t).then((function(e){null===a||void 0===a||a(e),console.error("exec_success")})).catch((function(e){var t;null===(t=Object.keys(e))||void 0===t||t.forEach((function(t){console.error(t,e[t])})),null===c||void 0===c||c(e)})),null===(o=h)||void 0===o||null===(i=o[e])||void 0===i||i.call(o,t)},this.openChat=function(e,t){Object(l.needSync)("groupId",e)?n.isAPIExist("openChat").then((function(){n.exec("openChat",{type:2,gid:null===e||void 0===e?void 0:e.groupId,success:function(e){var n;return null===t||void 0===t||null===(n=t.success)||void 0===n?void 0:n.call(t,e)},fail:function(e){var n;return null===t||void 0===t||null===(n=t.fail)||void 0===n?void 0:n.call(t,e)}})})):console.error("groupId: ".concat(null===e||void 0===e?void 0:e.groupId))},this.instance=void 0,this.getInstance=function(e){return n.instance=e},this.joinEntity=function(e){n.isAPIExist("joinEntityGroup").then((function(){e.createEntityGroupParams;var t=Object(a.a)(e,f);n.exec("joinEntityGroup",Object(i.a)(Object(i.a)({},t),{},{success:function(t){var n;return null===e||void 0===e||null===(n=e.success)||void 0===n?void 0:n.call(e,t)},fail:function(t){var n;return null===e||void 0===e||null===(n=e.fail)||void 0===n?void 0:n.call(e,t)}}))}))},this.joinEntityGroup=function(e){n.isPc?n.joinEntity(e):b({title:Object(r.getLabel)("143522","\u786e\u5b9a\u52a0\u5165\u8be5\u4e8b\u9879\u7fa4\u804a\uff1f"),mask:!0,onClose:function(){},onOk:function(){return n.joinEntity(e)},prompt:!1,getInstance:n.getInstance})},this.createEntityGroup=function(e){n.isPc?n.isAPIExist("createEntityGroupByIM").then((function(){n.exec("createEntityGroupByIM",Object(i.a)(Object(i.a)({},null===e||void 0===e?void 0:e.createEntityGroupParams),{},{success:function(t){var n;return null===e||void 0===e||null===(n=e.success)||void 0===n?void 0:n.call(e,t)},fail:function(t){var n;null===e||void 0===e||null===(n=e.fail)||void 0===n||n.call(e,t),console.error("\u4e8b\u9879\u7fa4\u521b\u5efa\u5931\u8d25: ".concat(t))}}))})):n.isAPIExist("createEntityGroup").then((function(){var t=null===e||void 0===e?void 0:e.success,o=null===e||void 0===e?void 0:e.fail;r.weappSDK.exec("registerBroadcast",{name:"weappEmCreateEntityGroupParams",fail:function(){return console.error("\u5e7f\u64ad(weappEmCreateEntityGroupParams)\u6ce8\u518c\u5931\u8d25")},callback:function(a){n.exec("createEntityGroup",Object(i.a)(Object(i.a)(Object(i.a)({},null===e||void 0===e?void 0:e.createEntityGroupParams),null===a||void 0===a?void 0:a.param),{},{success:function(e){return null===t||void 0===t?void 0:t(e)},fail:function(e){null===o||void 0===o||o(e),console.error("\u4e8b\u9879\u7fa4\u521b\u5efa\u5931\u8d25: ".concat(e))}}))}}),r.weappSDK.invoke("openLink",{url:"/mobile/em/createEntityGroupSelect?module=".concat(e.module,"&entityId=").concat(e.entityId)})}))},this.openEntityGroup=function(e){var t;e||console.error("\u672a\u914d\u7f6e entityGroupParams");var o=parseInt(null===(t=n.checkGroupResult)||void 0===t?void 0:t.status),a=0!==o?Object(i.a)(Object(i.a)({},e),{},{success:function(){for(var t,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];null===e||void 0===e||null===(t=e.success)||void 0===t||t.call(e,i),n.checkEntityGroup(e)}}):e;switch(o){case 0:n.openChat(n.checkGroupResult,a);break;case 100:n.createEntityGroup(a);break;case 101:n.joinEntityGroup(a)}},this.getContent=function(){var e,t="",o=parseInt(null===(e=n.checkGroupResult)||void 0===e?void 0:e.status);if(!n.emEntityGroupEnable&&0!==o)return t;switch(o){case 0:t=Object(r.getLabel)("180222","\u6253\u5f00\u4e8b\u9879\u4e3b\u7fa4");break;case 100:t=Object(r.getLabel)("180223","\u521b\u5efa\u4e8b\u9879\u4e3b\u7fa4");break;case 101:t=Object(r.getLabel)("180224","\u52a0\u5165\u4e8b\u9879\u4e3b\u7fa4")}return t},this.overwriteData=function(e,t){var a,c=Object(d.q)(e),r=Object(d.p)(e)?{groupId:p.a}:"",s=null===e||void 0===e?void 0:e.find((function(e){return e.id===n.key})),l=n.getContent();if(!l)return e;if(Object(u.d)("im"))return e;if(!s){var v=c?{icon:"Icon-Matters-groupchat"}:{};return Object(d.r)(e,Object(i.a)(Object(i.a)({id:n.key,content:l},v),r))}return null===(a=Object(o.a)(e))||void 0===a?void 0:a.map((function(e){return e.id===n.key?Object(i.a)(Object(i.a)({},e),{},{content:l},r):e}))},this.parent=t}},558:function(e,t,n){"use strict";n.r(t);var o=n(1),i=n(13),a=n(1002),c=n(186),r=n(0),s=n(11),l=n(7),u=s.Dialog.confirm,d=s.constants.uiAppName;t.default=function e(t){var n=this;Object(i.a)(this,e),this.parent=void 0,this.copyKey=c.c,this.pasteKey=c.f,this.enable=!0,this.overwriteData=function(e){var t=Object(a.q)(e),i=Object(a.p)(e)?{groupId:c.a}:"";if(n.enable){var s=null===e||void 0===e?void 0:e.find((function(e){return e.id===n.copyKey})),l=null===e||void 0===e?void 0:e.find((function(e){return e.id===n.pasteKey})),u=e;if(!s){var d=t?{icon:"Icon-copy"}:{},p=Object(o.a)(Object(o.a)({id:n.copyKey,content:Object(r.getLabel)("236078","\u590d\u5236(Ctrl+C)"),className:"copy"},d),i);u=Object(a.r)(u,p)}if(!l){var v=t?{icon:"Icon-paste"}:{},f=Object(o.a)(Object(o.a)({id:n.pasteKey,content:Object(r.getLabel)("236079","\u7c98\u8d34(Ctrl+V)"),className:"paste"},v),i);u=Object(a.r)(u,f)}return u}return e},this.copy=function(e){var t,n,o;e&&(e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.nativeEvent&&(null===(t=e.nativeEvent)||void 0===t||t.preventDefault()),(null===(n=e.nativeEvent)||void 0===n?void 0:n.stopImmediatePropagation)&&(null===(o=e.nativeEvent)||void 0===o||o.stopImmediatePropagation()));document.execCommand("copy")},this.paste=function(e,t){var o,i,a,c,r,s,l,u;e&&(e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.nativeEvent&&(null===(s=e.nativeEvent)||void 0===s||s.preventDefault()),(null===(l=e.nativeEvent)||void 0===l?void 0:l.stopImmediatePropagation)&&(null===(u=e.nativeEvent)||void 0===u||u.stopImmediatePropagation()));if(window.clipboardData){var d=window.clipboardData.getData("Text")||"";n.doPaste(d)}else if((null===(o=window)||void 0===o||null===(i=o.navigator)||void 0===i?void 0:i.clipboard)&&"function"===typeof(null===(a=window)||void 0===a||null===(c=a.navigator)||void 0===c||null===(r=c.clipboard)||void 0===r?void 0:r.readText)){var p;null===(p=window)||void 0===p||p.navigator.clipboard.readText().then((function(e){n.doPaste(e,t)})).catch((function(e){n.pasteFailed(t)}))}else n.pasteFailed(t)},this.doPaste=function(e,t){var n,o=document.querySelector("input:focus,textarea:focus");if(o){var i=o.selectionStart,a=o.selectionEnd,c=o.value;null===o||void 0===o||o.focus(),o.value=c.substring(0,i)+e+c.substring(a),o.pasteValue=c.substring(0,i)+e+c.substring(a),o.click();var s=null===o||void 0===o?void 0:o.getAttribute("data-id");(null===s||void 0===s?void 0:s.indexOf("".concat(l.inputClsPrefix)))>=0&&r.eventEmitter.emit(d,"emit_input_focus",s)}else if((null===t||void 0===t?void 0:t.dom)&&"ie"!==(null===r.ua||void 0===r.ua||null===(n=r.ua.browser)||void 0===n?void 0:n.toUpperCase())){var u=t.dom;if(!u)return;var p=(null===t||void 0===t?void 0:t.selectionStart)||0,v=(null===t||void 0===t?void 0:t.selectionEnd)||0,f=null===u||void 0===u?void 0:u.value;u.value=f.substring(0,p)+e+f.substring(v),null===u||void 0===u||u.focus();var b=null===u||void 0===u?void 0:u.getAttribute("data-id");(null===b||void 0===b?void 0:b.indexOf("ui-browser-box-selection-input"))>=0&&r.eventEmitter.emit(d,"emit_browser_box_selection_input_focus",b,{target:u,fromPaste:!0})}},this.pasteFailed=function(e){var t,n=(null===(t=window.location.protocol)||void 0===t?void 0:t.indexOf("https"))>=0,o="FIREFOX"===r.ua.browser.toUpperCase()&&n?Object(r.getLabel)("235971","\u706b\u72d0\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u7c98\u8d34\uff0c\u8bf7\u4f7f\u7528\u952e\u76d8\u5feb\u6377\u952e\uff08Ctrl+V\uff09\u6765\u5b8c\u6210\u3002"):Object(r.getLabel)("235972","\u975eIE\u5185\u6838\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u7c98\u8d34\uff0c\u8bf7\u4f7f\u7528\u952e\u76d8\u5feb\u6377\u952e\uff08Ctrl+V\uff09\u6765\u5b8c\u6210\u3002");u({content:o})},this.parent=t}},795:function(e,t,n){"use strict";n.r(t);var o=n(12),i=n(32),a=n(1),c=n(19),r=n(13),s=n(15),l=n(17),u=n(18),d=n(8),p=n.n(d),v=n(0),f=n(1213),b=n.n(f),h=n(65),m=n(9),j=n(100),O=n(200),g=n(1215),w=n(1216),I=n(1002),y=n(2),C=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).sortableEl=void 0,e.listContainer=void 0,e.ref=void 0,e.hasParentIcon=void 0,e.dataMap={},e.subItemRefs=[],e.initSortable=function(){var t=e.props,n=t.sortable,o=t.sortableOptions,i=t.onDrag;if(n&&!e.sortableEl){var c=e.listContainer,r=Object(a.a)({animation:150,preventOnFilter:!1,onEnd:function(e){null===i||void 0===i||i(e)}},o||{});c&&Object(O.a)().then((function(t){e.sortableEl=new t.default(c,r)}))}},e.setListContianer=function(t){e.listContainer=t},e.getDataMap=function(){return e.dataMap},e.onItemClick=function(t,n){var o=e.props,i=o.onItemClick;if("select"===o.type){!function t(n){if(!Object(m.isNil)(n)){var o,i,a,c=e.subItemRefs.find((function(e){var t,o;return null===e||void 0===e||null===(t=e.props)||void 0===t||null===(o=t.children)||void 0===o?void 0:o.some((function(e){return e.id===n}))}));if(c)null===(o=c.onPopupVisibleChange)||void 0===o||o.call(c,!1),t(null===c||void 0===c||null===(i=c.props)||void 0===i||null===(a=i.itemData)||void 0===a?void 0:a.id)}}(t.id)}null===i||void 0===i||i(t.id,t,n,e.dataMap)},e.getSubItemRef=function(t){t&&(e.subItemRefs.some((function(e){var n,o,i,a;return(null===e||void 0===e||null===(n=e.props)||void 0===n||null===(o=n.itemData)||void 0===o?void 0:o.id)===(null===(i=t.props)||void 0===i||null===(a=i.itemData)||void 0===a?void 0:a.id)}))||e.subItemRefs.push(t))},e.onItemMouseDown=function(t,n){var o=e.props.onItemMouseDown;null===o||void 0===o||o(t.id,t,n,e.dataMap)},e.onSubItemClick=function(t,n){var o=e.props.onSubItemClick;null===o||void 0===o||o(t.id,t,n,e.dataMap)},e.onSubItemPopupVisibleChange=function(t,n){var o=e.props.onSubItemPopupVisibleChange;null===o||void 0===o||o(t,n)},e.onDel=function(t){var n=e.props.onDel;null===n||void 0===n||n(t)},e.onPopupVisibleChange=function(t,n){var o=e.props.onSubItemPopupVisibleChange;null===o||void 0===o||o(t,n)},e.getRealMode=function(){var t=e.props,n=t.mode,o=t.type,i=t.inlineCollapsed;return Object(I.k)(o,n,i)},e.getPlacement=function(t,n){var o=e.props,i=o.type,a=o.position;switch(i){case"tab":return n&&"horizontal"===t?Object(I.j)(a):"bottomLeft";default:return Object(I.j)(a)}},e.renderItem=function(t){var n,o=e.props,i=o.prefixCls,c=o.type,r=o.inlineIndent,s=o.action,l=o.childAction,u=o.popupPlacement,v=o.activeKeys,f=o.showContentWrap,b=o.showCloseWrap,h=o.overlayClassName,m=o.renderAsSelect,j=o.childPopupPlacement,O=o.triggerProps,C=o.childTriggerProps,x=o.childChangeToUpdateParent,D=o.expandKeys,P=o.value,k=o.data,S=o.customRenderItem,E=o.customRenderItemContent,R=o.bindTriggerContainer,N=o.initIndent,T=t.item,M=t.index,A=t.level,V=t.parentId,L=t.listData,G=t.listHasIcon,W=null,z={},_=null;e.dataMap[T.id]||(e.dataMap[T.id]={level:A,content:T.content},V&&(e.dataMap[T.id].parentIds=Object(I.h)(V,e.dataMap)));var U=e.getRealMode(),B=T.children&&T.children.length>0,K=M>0&&"groupId"in T&&(null===L||void 0===L||null===(n=L[M-1])||void 0===n?void 0:n.groupId)!==T.groupId,F=P===T.id||v&&v.indexOf(T.id)>-1;1===A&&G&&(e.hasParentIcon=!0),"inline"===U&&"number"===typeof r&&(z=A>1?{paddingLeft:r*A}:{},"menu"===c&&(e.hasParentIcon?(z=A>1?{paddingLeft:r*(A-2)+("number"===typeof N?N:38)}:{},_=A>2?A-2:null):(z=A>1?{paddingLeft:r*(A-1)+16}:{},_=A>1?A-1:null)));var H={prefixCls:i,style:z,type:c,data:T,isGroupCutLine:K,showContentWrap:f,showCloseWrap:b,textIndentIndex:_};if(B){var q=Object(I.m)(T.children||[],P||""),X=F||("horizontal"===U||"vertical"===U)&&q,J="horizontal"===U||"vertical"===U,Q=Object(I.n)(T.id,D||[]),Y=Q||!1,Z=j||(null===C||void 0===C?void 0:C.popupPlacement)||e.getPlacement(U,T.parentId),$=l||(null===C||void 0===C?void 0:C.action)||"hover",ee="menu"===c&&"vertical"===U&&!T.parentId,te=!T.disabled&&X,ne=x&&1===A&&!T.parentId&&te?Object(I.l)(k||[],P||""):T.content,oe={display:Q||"inline"!==U?"block":"none"},ie=null,ae=h||"";if(Q){var ce,re=T.children||[],se=("tab"===c||"card"===c||"secondtab"===c)&&re.length>0&&T.canBeSelected&&1===A&&q&&(null===(ce=re[0])||void 0===ce?void 0:ce.id)!==T.id,le={data:re,level:A+1,parentId:T.id,showScroller:J};se?(ae="".concat(i,"-trigger-special"),m&&(ae+=" ".concat(i,"-trigger-specialselect")),ie=Object(y.jsxs)(y.Fragment,{children:[e.renderItem({item:Object(a.a)(Object(a.a)({},T),{},{children:[]}),index:0,level:1,parentId:T.id,listHasIcon:!1}),e.renderList(le)]})):ie=p.a.cloneElement(e.renderList(le),{style:oe})}var ue=e.props.rightIcon;ue||(ue=Q||"select"===c||("horizontal"===U||"vertical"===U)&&T.parentId?"Icon-Right-arrow01":"Icon-Down-arrow01"),W=Object(d.createElement)(w.a,Object(a.a)(Object(a.a)(Object(a.a)({weId:"".concat(e.props.weId||"","_1whjzu@").concat(T.id)},T),H),{},{itemData:T,key:"subItem_".concat(T.id),content:ne,rightIcon:ue,active:te,collapsed:ee,hasTrigger:J,action:$,popupPlacement:Z,popupVisible:Y,overlayClassName:ae,onPopupVisibleChange:e.onPopupVisibleChange,onClick:e.onSubItemClick,child:ie,triggerProps:C,bindTriggerContainer:R,customRenderItem:S,customRenderItemContent:E,listHasIcon:G,level:A,ref:e.getSubItemRef}))}else{var de=s||(null===O||void 0===O?void 0:O.action)||"hover",pe=u||(null===O||void 0===O?void 0:O.popupPlacement)||"rightBottom",ve=!T.disabled&&F,fe="menu"===c&&"vertical"===U&&!T.parentId;W=Object(d.createElement)(g.a,Object(a.a)(Object(a.a)(Object(a.a)({weId:"".concat(e.props.weId||"","_h29vz7@").concat(T.id)},T),H),{},{key:"item_".concat(T.id),itemData:T,triggerProps:O,bindTriggerContainer:R,action:de,popupPlacement:pe,collapsed:fe,active:ve,onClick:e.onItemClick,onMouseDown:e.onItemMouseDown,onDel:e.onDel,customRenderItem:S,customRenderItemContent:E,listHasIcon:G,level:A}))}return W},e.renderList=function(t){var n=t.data,o=t.level,i=t.parentId,a=t.showScroller,c=t.setListRef;if(!n||n.length<0)return null;var r=n.some((function(e){return e.icon})),s=e.props.prefixCls,l=Object(y.jsx)("div",{weId:"".concat(e.props.weId||"","_8km5jp"),className:"".concat(s,"-list"),ref:c,children:n.map((function(t,a){return e.renderItem({item:t,index:a,level:o,parentId:i,listData:n,listHasIcon:r})}))});return a?Object(y.jsx)(j.a,{weId:"".concat(e.props.weId||"","_xn9mh9"),className:"".concat(s,"-scroller"),children:l}):l},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.initSortable()}},{key:"componentWillUnmount",value:function(){this.sortableEl=null}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.showScroller,o=e.bindRef;return!t||t.length<0?null:this.renderList({data:t,level:1,parentId:"",showScroller:n,setListRef:o?this.setListContianer:null})}}]),n}(p.a.PureComponent),x=n(95),D=n(143),P=n.n(D),k=n(106),S=n(53),E=n(40),R=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var o;return Object(r.a)(this,n),(o=t.call(this,e)).container=void 0,o.navWrap=void 0,o.nav=void 0,o.offset=void 0,o.resizeObserverNode=null,o.containerWidth=0,o.resizeTimer=null,o.componentDidMount=function(){o.addResizeObserver()},o.componentDidUpdate=function(e,t){var n=o.props,i=o.state;if(e&&e.tabBarPosition!==n.tabBarPosition)o.setOffset(0,!0);else if(!t||t.popupVisible===i.popupVisible){var a=o.setNextPrev();o.isNextPrevShown(o.state)!==o.isNextPrevShown(a)?o.setState({},(function(){return o.scrollToActiveTab({})})):(!e||n.value!==e.value||!e.listRef&&n.listRef)&&o.scrollToActiveTab({})}},o.addResizeObserver=function(){var e;o.container&&!o.resizeObserverNode&&(o.resizeObserverNode=new k.a((function(e){var t,n=Object(x.a)(e);try{for(n.s();!(t=n.n()).done;){var i=t.value.contentRect.width;"number"===typeof i&&i!==o.containerWidth&&(o.containerWidth=i,o.resizeTimer&&clearTimeout(o.resizeTimer),o.resizeTimer=setTimeout((function(){o.resize()}),200))}}catch(a){n.e(a)}finally{n.f()}})),null===(e=o.resizeObserverNode)||void 0===e||e.observe(o.container))},o.resize=function(){o.setNextPrev(),o.props.listRef&&o.scrollToActiveTab({})},o.setContainer=function(e){o.container=e},o.setNavWrap=function(e){o.navWrap=e},o.setNav=function(e){o.nav=e},o.setNextPrev=function(){var e=o.nav,t=o.container,n=o.navWrap,i=o.getScrollWH(e),a=o.getOffsetWH(t)+1;if(a<=1)return{next:!1,prev:!1};var c=o.getOffsetWH(n),r=a-i,s=o.offset||0,l=o.state,u=l.next,d=l.prev;if(r>=0)u=!1,o.setOffset(0,!1),o.offset=0;else if(r<s)u=!0;else{u=!1;var p=c-i;o.setOffset(p,!1),o.offset=p}return d=s<0,o.setNext(u),o.setPrev(d),{next:u,prev:d}},o.setOffset=function(e,t){var n=o.props,i=n.direction,a=n.tabBarPosition,c=Math.min(0,e);if(o.offset!==c){o.offset=c;var r={};if(!o.nav||!o.nav.style)return;var s=o.nav.style,l=Object(I.o)(s);"left"===a||"right"===a?r=l?{value:"translate3d(0,".concat(c,"px,0)")}:{name:"top",value:"".concat(c,"px")}:l?("rtl"===i&&(c=-c),r={value:"translate3d(".concat(c,"px,0,0)")}):r={name:"left",value:"".concat(c,"px")},l?Object(I.s)(s,r.value||""):r.name&&r.value&&(s[r.name]=r.value),t&&o.setNextPrev()}},o.setPrev=function(e){o.state.prev!==e&&o.setState({prev:e})},o.setNext=function(e){o.state.next!==e&&o.setState({next:e})},o.isNextPrevShown=function(e){return e?e.next||e.prev:o.state.next||o.state.prev},o.getActiveTabNode=function(){var e,t=o.props,n=t.value,i=t.listRef,a=null===i||void 0===i||null===(e=i.listContainer)||void 0===e?void 0:e.children,c=null;if(a&&a.length>0)for(var r=0;r<a.length;r++){var s,l,u=a[r];if((null===(s=u.attributes)||void 0===s||null===(l=s.id)||void 0===l?void 0:l.value)===n){c=u;break}}return c},o.scrollToActiveTab=function(e){var t=o.props,n=t.value,i=t.listRef,a=o.state,c=a.next,r=a.prev,s=a.popupVisible;if(n&&i&&0!==o.containerWidth){var l=o.getActiveTabNode(),u=o.navWrap;if(!(e&&e.target&&e.currentTarget&&e.target!==e.currentTarget)&&l)if(o.isNextPrevShown({prev:r,next:c})){var d=o.getScrollWH(l),p=o.getOffsetWH(u),v=o.getOffsetLT(u),f=o.offset||0,b=o.getOffsetLT(l);v>b?(f+=v-b,o.setOffset(f,!0)):v+p<b+d&&(f-=b+d-(v+p),o.setOffset(f,!0)),s&&o.setState({popupVisible:!1})}}},o.prev=function(){if(o.state.prev){var e=o.navWrap,t=o.getOffsetWH(e),n=o.offset||0;o.setOffset(n+t,!0)}},o.next=function(){if(o.state.next){var e=o.navWrap,t=o.getOffsetWH(e),n=o.offset||0;o.setOffset(n-t,!0)}},o.onPopupVisibleChange=function(e){o.setState({popupVisible:e})},o.state={next:!1,prev:!1,popupVisible:!1},o.offset=0,o}return Object(s.a)(n,[{key:"componentWillUnmount",value:function(){var e;this.container&&this.resizeObserverNode&&(null===(e=this.resizeObserverNode)||void 0===e||e.unobserve(this.container),this.resizeObserverNode=null);this.resizeTimer=null}},{key:"getOffsetWH",value:function(e){if(!e)return 0;var t=this.props.tabBarPosition,n="offsetWidth";return"left"!==t&&"right"!==t||(n="offsetHeight"),e[n]}},{key:"getScrollWH",value:function(e){if(!e)return 0;var t=this.props.tabBarPosition,n="scrollWidth";return"left"!==t&&"right"!==t||(n="scrollHeight"),e[n]}},{key:"getOffsetLT",value:function(e){if(!e)return 0;var t=this.props.tabBarPosition,n="left";return"left"!==t&&"right"!==t||(n="top"),e.getBoundingClientRect()[n]}},{key:"render",value:function(){var e,t,n,i,a=this.props,c=a.prefixCls,r=a.className,s=a.scrollAnimated,l=a.tabs,u=a.dropDownList,d=a.tabBarPosition,p=a.showDropDownIcon,f=this.state,b=f.prev,h=f.next,m=f.popupVisible,j=b||h,O="top"===d&&j&&p,g=j?Object(y.jsx)("span",{onClick:this.prev,unselectable:"on",className:Object(v.classnames)((e={},Object(o.a)(e,"".concat(c,"-tab-prev"),1),Object(o.a)(e,"".concat(c,"-tab-btn-disabled"),!b),Object(o.a)(e,"".concat(c,"-tab-arrow-show"),j),e)),children:Object(y.jsx)(E.b,{weId:"".concat(this.props.weId||"","_iz18hw"),size:"sm",name:"top"===d?"Icon-left-arrow01":"Icon-up-arrow01"})}):null,w=j?Object(y.jsx)("span",{onClick:this.next,unselectable:"on",className:Object(v.classnames)((t={},Object(o.a)(t,"".concat(c,"-tab-next"),1),Object(o.a)(t,"".concat(c,"-tab-btn-disabled"),!h),Object(o.a)(t,"".concat(c,"-tab-arrow-show"),j),Object(o.a)(t,"".concat(c,"-tab-next-hasDropDownIcon"),O),t)),children:Object(y.jsx)(E.b,{weId:"".concat(this.props.weId||"","_epn81r"),size:"sm",name:"top"===d?"Icon-Right-arrow01":"Icon-Down-arrow01"})}):null,I=O?Object(y.jsx)(S.a,{weId:"".concat(this.props.weId||"","_pdxxa6"),action:"hover",popupVisible:m,popup:Object(y.jsx)("div",{className:"".concat(c,"-trigger ").concat(c,"-tab-dropdown"),children:u}),popupPlacement:"bottomRight",onPopupVisibleChange:this.onPopupVisibleChange,children:Object(y.jsx)("span",{className:"".concat(c,"-tab-dropdown-icon"),children:Object(y.jsx)(E.b,{weId:"".concat(this.props.weId||"","_pinrg8"),name:"Icon-more02",size:"md"})})},"dropDownBtn"):null,C="".concat(c,"-nav"),x=Object(v.classnames)((n={},Object(o.a)(n,C,!0),Object(o.a)(n,"".concat(C,s?"-animated":"-no-animated"),!0),n)),D=Object(v.classnames)("".concat(c,"-bar"),r);return Object(y.jsx)("div",{role:"tablist",className:D,tabIndex:0,children:Object(y.jsxs)("div",{className:Object(v.classnames)((i={},Object(o.a)(i,"".concat(c,"-nav-container"),1),Object(o.a)(i,"".concat(c,"-nav-container-scrolling"),j),Object(o.a)(i,"".concat(c,"-nav-container-scrolling-hasDropDownIcon"),O),i)),ref:this.setContainer,children:[g,w,I,Object(y.jsx)("div",{className:"".concat(c,"-nav-wrap"),ref:this.setNavWrap,children:Object(y.jsx)("div",{className:"".concat(c,"-nav-scroll"),children:Object(y.jsx)("div",{className:x,ref:this.setNav,children:l})})})]})})}}]),n}(p.a.PureComponent);R.defaultProps={scrollAnimated:!0};var N=R,T=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var o,i;Object(r.a)(this,n),(i=t.call(this,e)).extraContainer=void 0,i.leftContainer=void 0,i.listRef=null,i.leftListRef=null,i.widthMap={},i.storeData=[],i.leftData=[],i.moreData=[],i.leftContainerWidth=0,i.moreWidth=0,i.resizeObserverNode=null,i.resizeTimer=null,i.moreItemRef=null,i.addIconRef=null,i.componentDidMount=function(){i.isDropDownOverflow()&&i.addResizeObserver()},i.setLeftContainerRef=function(e){return i.leftContainer=e},i.setLeftListRef=function(e){return i.leftListRef=e},i.setListRef=function(e){return i.listRef=e},i.setExtraContainer=function(e){return i.extraContainer=e},i.setMoreItemRef=function(e){return i.moreItemRef=e},i.setAddIconRef=function(e){return i.addIconRef=e},i.setMoreIconRef=function(e){if(0===i.moreWidth&&!i.state.renderAsSelect)var t=setTimeout((function(){i.resortTabs(),clearTimeout(t)}),0)},i.isDropDownOverflow=function(){var e=i.props,t=e.position;return"more"===e.overflowType&&"top"===t},i.hasChild=function(){var e;return null===(e=i.props.data)||void 0===e?void 0:e.some((function(e){return e.children&&e.children.length>0}))},i.addResizeObserver=function(){var e;i.leftContainer&&!i.resizeObserverNode&&(i.resizeObserverNode=new k.a((function(e){var t,n=Object(x.a)(e);try{for(n.s();!(t=n.n()).done;){var o=t.value.contentRect.width,a=i.leftContainerWidth;if("number"===typeof o&&o!==a){i.leftContainerWidth=o;var c=i.props,r=c.limitContainerWidth;c.renderAsSelectOverLimit&&r&&i.leftContainerWidth>0&&i.leftContainerWidth<=r?(i.leftData=[],i.moreData=i.props.data||[],i.setState({renderAsSelect:!0})):i.state.renderAsSelect?(i.leftData=i.props.data||[],i.moreData=[],i.setState({renderAsSelect:!1},(function(){i.calculateWidthMap()}))):0===a&&0===Object.keys(i.widthMap).length?i.calculateWidthMap():(i.resizeTimer&&clearTimeout(i.resizeTimer),i.resizeTimer=setTimeout((function(){i.state.renderAsSelect||i.resortTabs(),i.resizeTimer&&clearTimeout(i.resizeTimer)}),200))}}}catch(s){n.e(s)}finally{n.f()}})),null===(e=i.resizeObserverNode)||void 0===e||e.observe(i.leftContainer))},i.calculateWidthMap=function(e,t){var n,o,a=i.props.value,c=i.storeData;if(0!==i.leftContainerWidth&&c&&0!==(null===c||void 0===c?void 0:c.length)){var r=null===(n=i.leftListRef)||void 0===n||null===(o=n.listContainer)||void 0===o?void 0:o.children;if(r&&r.length>0){for(var s=0;s<r.length;s++){var l=r[s],u=l.getAttribute("class"),d=window.getComputedStyle(l)||{},p=d.paddingLeft,v=d.paddingRight,f=d.marginLeft,b=d.marginRight,h=l.offsetWidth,m=p?Math.ceil(parseFloat(p)):0,j=v?Math.ceil(parseFloat(v)):0,O=f?Math.ceil(parseFloat(f)):0,g=b?Math.ceil(parseFloat(b)):0,w={offsetWidth:h,paddingLeft:m,paddingRight:j,marginLeft:O,marginRight:g,width:h+O+g},y="";u&&u.indexOf("-list-subitem")>-1?function(){var e=l.children[0].id;if(y=e,!(null===c||void 0===c?void 0:c.some((function(e){return e.id===a})))){var t=null===c||void 0===c?void 0:c.find((function(t){return t.id===e}));(null===t||void 0===t?void 0:t.children)&&a&&Object(I.m)(t.children,a)&&(y=a)}}():y=l.id,y&&(!t||t&&!i.widthMap[y])&&(i.widthMap[y]=w)}i.resortTabs(e)}}},i.resortTabs=function(e){var t,n,o=i.props,a=o.value,c=o.type,r=i.storeData;if(r&&0!==r.length){var s=i.leftContainer,l=null===s||void 0===s?void 0:s.clientWidth;if(l&&0!==Object.keys(i.widthMap).length){var u,d,p,v;if(i.isShowFollwAddIcon())l-=(null===(u=i.addIconRef)||void 0===u?void 0:u.offsetWidth)||18*((null===(d=window)||void 0===d||null===(p=d.TEAMS)||void 0===p||null===(v=p.theme)||void 0===v?void 0:v.hd)||1);var f=e||a,b=f&&Object(I.d)(f||"",r),h=[];if(h=f&&b&&f!==b?r.map((function(e){return e.id===b?f:e.id})):r.map((function(e){return e.id})),Object(I.a)(i.widthMap||{},h)<=l)return i.leftData=r,i.moreData=[],void i.forceUpdate();i.leftData=[],i.moreData=[];var m=(null===(t=i.moreItemRef)||void 0===t?void 0:t.offsetWidth)||0;i.moreWidth=m;var j=l-m,O=f&&(null===(n=i.widthMap[f])||void 0===n?void 0:n.width)||0,g=!1,w=r.findIndex((function(e){return b?e.id===b:e.id===f}));if(r.forEach((function(t,n){if(t.id===f||t.id===b)i.leftData.push(t),g=!0;else if(O<j){var o,a=(O+=(null===(o=i.widthMap[t.id])||void 0===o?void 0:o.width)||0)<=j;if(!a&&"tab"===c){var s,l,u=O;if(w<n)u=O-(null===(s=i.widthMap[t.id])||void 0===s?void 0:s.paddingRight)||0-(null===(l=i.widthMap[t.id])||void 0===l?void 0:l.marginRight)||0;else if(e&&f&&w<r.length-1){var d,p;u=O-(null===(d=i.widthMap[f])||void 0===d?void 0:d.paddingRight)||0-(null===(p=i.widthMap[f])||void 0===p?void 0:p.marginRight)||0}u<=j&&(a=!0)}a?i.leftData.push(t):i.moreData.push(t)}else i.moreData.push(t)})),e&&!g){var y,C=null===r||void 0===r||null===(y=r.find)||void 0===y?void 0:y.call(r,(function(t){return t.id===e}));C&&i.leftData.push(C)}i.forceUpdate()}}},i.onItemClick=function(e,t,n,o){var a=i.props.onItemClick;i.isDropDownOverflow()&&i.hasChild()?null===a||void 0===a||a(e,t,n,o,(function(){i.doUpdate(e,!1)})):null===a||void 0===a||a(e,t,n,o)},i.onItemMouseDown=function(e,t,n,o){var a=i.props.onItemMouseDown;i.isDropDownOverflow()&&i.hasChild()?null===a||void 0===a||a(e,t,n,o,(function(){i.doUpdate(e,!1)})):null===a||void 0===a||a(e,t,n,o)},i.onSubItemClick=function(e,t,n,o){var a=i.props,c=a.onSubItemClick,r=a.parentCanBeSelected;i.isDropDownOverflow()&&i.hasChild()?null===c||void 0===c||c(e,t,n,o,!0,(function(){(t.canBeSelected||r)&&i.doUpdate(e,!1)})):null===c||void 0===c||c(e,t,n,o)},i.onDropDownItemClick=function(e,t,n,o){var a=i.props.onItemClick;null===a||void 0===a||a(e,t,n,o,(function(){i.doUpdate(e,!0)})),i.onDropDownVisibleChange(!1)},i.onDropDownSubItemClick=function(e,t,n,o){var a=i.props,c=a.onSubItemClick,r=a.parentCanBeSelected;null===c||void 0===c||c(e,t,n,o,!0,(function(){(t.canBeSelected||r)&&(i.doUpdate(e,!0),i.onDropDownVisibleChange(!1))}))},i.onDropDownVisibleChange=function(e){i.setState({dropDownVisible:e})},i.doUpdate=function(e,t){var n;if(!i.state.renderAsSelect){var o=i.storeData;if(!i.widthMap[e]||(null===o||void 0===o||null===(n=o.some)||void 0===n?void 0:n.call(o,(function(e){return!i.widthMap[e.id]}))))var a=setTimeout((function(){t&&i.resortTabs(e),i.calculateWidthMap(t?e:"",!0),clearTimeout(a)}),0);else i.resortTabs(t?e:"")}},i.onAdd=function(){var e,t,n,o,a=i.props.data,c=(null===(e=i.leftData)||void 0===e||null===(t=e[i.leftData.length-1])||void 0===t?void 0:t.id)||"";null===(n=(o=i.props).onAdd)||void 0===n||n.call(o,a||[],c)},i.filterData=function(e){return e.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{editable:!1,children:[]})}))||[]},i.isShowFollwAddIcon=function(){var e=i.props,t=e.type,n=e.showAdd,o=e.addIconPosition;return("tab"===t||"card"===t)&&n&&"followTab"===o},i.state={dropDownVisible:!1,renderAsSelect:!1};var c=(null===(o=e.data)||void 0===o?void 0:o.filter((function(e){return!e.hide})))||[];return i.storeData=c,i.leftData=c,i}return Object(s.a)(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this;if(!this.state.renderAsSelect&&this.isDropDownOverflow()){var n=e.data,o=e.removeItemWidthLimit,i=this.props,a=i.data,c=i.removeItemWidthLimit,r=!0;if(n&&a)if(n.some((function(e){return!("content"in e)||"string"!==typeof e.content})))r=n.length===a.length;else{var s=Object(I.b)(n),l=Object(I.b)(a);r=Object(m.isEqual)(s,l)}if(n&&(!r||o!==c)){var u=null===n||void 0===n?void 0:n.filter((function(e){return!e.hide}));this.storeData=u,this.leftData=u,this.moreData=[];var d=setTimeout((function(){t.calculateWidthMap(),clearTimeout(d)}),0)}}}},{key:"componentWillUnmount",value:function(){if(this.isDropDownOverflow()){var e;if(this.leftContainer&&this.resizeObserverNode)null===(e=this.resizeObserverNode)||void 0===e||e.unobserve(this.leftContainer),this.resizeObserverNode=null;this.resizeTimer=null}}},{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.type,i=e.extraContent,c=e.position,r=e.showAdd,s=e.addIcon,l=e.addTitle,u=e.addIconPosition,d=e.value,p=e.showDropDownIcon,f=e.data,b=e.moreTriggerProps,h=this.state,m=h.dropDownVisible,j=h.renderAsSelect,O="tab"===n&&"top"===c,g="tab"===n&&"top"===c,w=null,x=null,D=("tab"===n||"card"===n)&&r&&"right"===u;if((D||i)&&(w=Object(y.jsxs)("div",{className:"".concat(t,"-extra"),ref:this.setExtraContainer,children:[D&&Object(y.jsx)("span",{className:"".concat(t,"-extra-add"),onClick:this.onAdd,title:l||Object(v.getLabel)("107347","\u65b0\u5efa"),children:s||Object(y.jsx)(E.b,{weId:"".concat(this.props.weId||"","_med318"),name:"Icon-newly-build",size:"sm"})}),i]})),this.isDropDownOverflow()){var k,R,T,M,A=this.leftData,V=this.moreData,L=this.isShowFollwAddIcon(),G=null===(k=this.leftData)||void 0===k||null===(R=k[this.leftData.length-1])||void 0===R?void 0:R.closeable,W=P()((T={},Object(o.a)(T,"".concat(t,"-overflow-more"),!0),Object(o.a)(T,"".concat(t,"-overflow-more-hideLeftPadding"),G),Object(o.a)(T,"".concat(t,"-overflow-more-hover"),m),Object(o.a)(T,"".concat(t,"-overflow-more-select"),j),T)),z=P()((M={},Object(o.a)(M,"".concat(t,"-tab-add"),!0),Object(o.a)(M,"".concat(t,"-tab-add-showLeftPadding"),this.leftData.length===(null===f||void 0===f?void 0:f.length)&&!G||this.moreItemRef),M));x=Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(C,Object(a.a)(Object(a.a)({},this.props),{},{weId:"".concat(this.props.weId||"","_g7u2er"),ref:this.setLeftListRef,bindRef:!0,data:A,showContentWrap:O,showCloseWrap:g,onItemClick:this.onItemClick,onItemMouseDown:this.onItemMouseDown,onSubItemClick:this.onSubItemClick})),V.length>0&&Object(y.jsx)(S.a,Object(a.a)(Object(a.a)({weId:"".concat(this.props.weId||"","_mec288"),action:["hover"],popupVisible:m,popup:Object(y.jsx)("div",{className:"".concat(t,"-trigger ").concat(t,"-tab-dropdown"),children:Object(y.jsx)(C,Object(a.a)(Object(a.a)({},this.props),{},{weId:"".concat(this.props.weId||"","_jfncbr"),showScroller:!0,onItemClick:this.onDropDownItemClick,onSubItemClick:this.onDropDownSubItemClick,data:V,renderAsSelect:j,childChangeToUpdateParent:!1,childPopupPlacement:"rightTop",rightIcon:"Icon-Right-arrow01",bindRef:!1}))}),popupPlacement:j?"bottomLeft":"bottomRight",onPopupVisibleChange:this.onDropDownVisibleChange},b||{}),{},{children:Object(y.jsxs)("div",{className:W,ref:this.setMoreItemRef,children:[Object(y.jsx)("span",{className:"".concat(t,"-overflow-more-text"),children:j?Object(I.l)(f||[],d||""):Object(v.getLabel)("28401","\u66f4\u591a")}),Object(y.jsx)(E.b,{weId:"".concat(this.props.weId||"","_vc55dt"),ref:this.setMoreIconRef,name:m?"Icon-Right-arrow01":"Icon-Down-arrow01"})]})}),"dropDown"),L&&(s||Object(y.jsx)("span",{className:z,children:Object(y.jsx)("span",{className:"".concat(t,"-extra-add"),ref:this.setAddIconRef,onClick:this.onAdd,title:l||Object(v.getLabel)("107347","\u65b0\u5efa"),children:s||Object(y.jsx)(E.b,{weId:"".concat(this.props.weId||"","_3eimkv"),name:"Icon-newly-build",size:"sm"})})}))]})}else x=Object(y.jsx)(N,{weId:"".concat(this.props.weId||"","_14o3xd"),prefixCls:t,tabBarPosition:c,tabs:Object(y.jsx)(C,Object(a.a)(Object(a.a)({},this.props),{},{weId:"".concat(this.props.weId||"","_byt3gj"),ref:this.setListRef,showContentWrap:O,showCloseWrap:g,bindRef:!0})),listRef:this.listRef,dropDownList:Object(y.jsx)(C,Object(a.a)(Object(a.a)({},this.props),{},{weId:"".concat(this.props.weId||"","_lomh44"),showScroller:!0,data:this.filterData(f||[])})),value:d,showDropDownIcon:p},"nav");return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"".concat(t,"-tab-top-container"),ref:this.setLeftContainerRef,children:x}),w]})}}]),n}(p.a.PureComponent);T.defaultProps={limitContainerWidth:185,renderAsSelectOverLimit:!0};var M,A,V=T,L=n(165),G=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var o;return Object(r.a)(this,n),(o=t.call(this,e)).selectContent=void 0,o.outerContainer=void 0,o.selectCover=void 0,o.setSelectContentRef=function(e){return o.selectContent=e},o.setSelectCoverRef=function(e){return o.selectCover=e},o.setOuterContainerRef=function(e){return o.outerContainer=e},o.onSelectPopupVisibleChange=function(e){var t=o.props.data,n=null===t||void 0===t?void 0:t.some((function(e){return e.children}));if(!e&&n)var i=setTimeout((function(){o.onPopupVisibleChange(e),clearTimeout(i)}),100);else o.onPopupVisibleChange(e)},o.onPopupVisibleChange=function(e){var t=o.props.triggerProps;o.setState({selectPopupVisible:e}),t&&"function"===typeof t.onPopupVisibleChange&&t.onPopupVisibleChange(e)},o.getSelectPopupContainer=function(){return o.selectCover},o.getSelectContent=function(){return o.selectContent},o.onSelectMenuItemClick=function(e,t,n){var i=o.props.onItemClick;null===i||void 0===i||i(e,t,n),o.onSelectPopupVisibleChange(!1)},o.isHoverAction=function(){var e=o.props,t=e.triggerProps,n=e.action,i=!1,a=(null===t||void 0===t?void 0:t.action)||n||"hover";return"string"===typeof a?i="hover"===a:a instanceof Array&&(i="hover"===a[0]),i},o.hideClickPopop=function(e){o.isHoverAction()||e.target===o.outerContainer&&o.onPopupVisibleChange(!1)},o.onAdjustedPlacement=function(e){e&&e!==o.state.adjustPlacement?o.setState({adjustPlacement:e}):e||o.setState({adjustPlacement:""})},o.onBtnClick=function(){var e=o.props.onBtnClick;null===e||void 0===e||e()},o.state={selectPopupVisible:!1,adjustPlacement:""},o}return Object(s.a)(n,[{key:"render",value:function(){var e,t,n=this.props,i=n.prefixCls,c=n.overlayClassName,r=n.data,s=n.value,l=n.type,u=n.selectType,d=n.btnText,p=n.btnIcon,f=n.customBtn,b=n.selectIcon,h=n.showBorder,m=n.selectButtonType,j=n.customSelectContent,O=n.customSelectText,g=n.action,w=n.cover,x=n.popupPlacement,D=n.triggerProps,P=n.bindTriggerContainer,k=this.state,R=k.selectPopupVisible,N=k.adjustPlacement,T="btnOverlay"===u||"iconOverlay"===u||(null===D||void 0===D?void 0:D.cover)||w,M=Object(I.l)(r||[],s||""),A=Object(v.classnames)("".concat(i,"-select-title"),(e={},Object(o.a)(e,"".concat(i,"-select-title-border"),!R&&h),Object(o.a)(e,"".concat(i,"-select-title-hover"),R),e)),V=(null===D||void 0===D?void 0:D.popupPlacement)||x||Object(I.i)(),G=(null===D||void 0===D?void 0:D.action)||g||"hover",W=G.indexOf("click")>-1&&-1===G.indexOf("hover")?[".".concat(i,"-trigger-black")]:[],z=Object(a.a)(Object(a.a)({enableEventEmitter:!0},D||{}),{},{action:G,blacklist:W,popupVisible:R,popupPlacement:V,onPopupVisibleChange:this.onSelectPopupVisibleChange}),_=null;if(j)_=j;else if("iconOverlay"===u)_=Object(y.jsx)("span",{className:"".concat(i,"-select-iconOverlay"),children:b?"string"===typeof b?Object(y.jsx)(E.b,{weId:"".concat(this.props.weId||"","_jrnhce"),name:b,size:"md"}):b:Object(y.jsx)(E.b,{weId:"".concat(this.props.weId||"","_ijmyqr"),name:"Icon-more02",size:"md"})});else if("btn"===u){var U,B=Object(v.classnames)((U={},Object(o.a)(U,"".concat(i,"-select-btn-more"),!0),Object(o.a)(U,"".concat(i,"-select-btn-more-hover"),R),U));_=Object(y.jsx)("div",{className:B,children:Object(y.jsx)(E.b,{weId:"".concat(this.props.weId||"","_x0narz"),name:R?"Icon-Right-arrow01":"Icon-Down-arrow01"})})}else _=Object(y.jsxs)("div",{className:A,ref:this.setSelectContentRef,children:[Object(y.jsx)("span",{className:"".concat(i,"-select-title-text"),children:O||M}),Object(y.jsx)("span",{className:"".concat(i,"-select-title-icon"),children:Object(y.jsx)(E.b,{weId:"".concat(this.props.weId||"","_x0narz"),size:"sm",name:R?"Icon-Right-arrow04":"Icon-Down-arrow04"})})]});if(T){var K;P&&(z=Object(a.a)(Object(a.a)({},z),{},{getPopupContainer:this.getSelectPopupContainer}));var F=Object(v.classnames)("".concat(i,"-select-cover-container"),"".concat(i,"-select-cover-container-").concat(u),"".concat(i,"-select-cover-container-").concat(N||V),(K={},Object(o.a)(K,"".concat(i,"-select-cover-container-bindTriggerContainer"),P),Object(o.a)(K,"".concat(i,"-select-cover-container-active"),"iconOverlay"===u&&R),K)),H=Object(v.classnames)("".concat(i,"-select-cover"),Object(o.a)({},"".concat(i,"-select-cover-noboder"),!h)),q=Object(y.jsxs)("div",{className:F,children:[Object(y.jsx)("div",{className:"".concat(i,"-select-cover-outer"),ref:this.setOuterContainerRef,onClick:this.hideClickPopop,children:Object(y.jsx)("div",{className:"".concat(i,"-select-cover-children"),children:_})}),Object(y.jsx)("div",{className:"".concat(i,"-trigger ").concat(i,"-select-cover-content"),children:Object(y.jsx)(C,Object(a.a)(Object(a.a)({weId:"".concat(this.props.weId||"","_yyec1g")},this.props),{},{showScroller:!0,onItemClick:this.onSelectMenuItemClick}))})]});return Object(y.jsx)(S.a,Object(a.a)(Object(a.a)({weId:"".concat(this.props.weId||"","_t14nid"),cover:!0,popup:q,onAdjustedPlacement:this.onAdjustedPlacement,adaptivPositionHeightOffset:4},z),{},{children:Object(y.jsx)("div",{className:H,ref:this.setSelectCoverRef,children:Object(y.jsx)("div",{className:"".concat(i,"-select-cover-children"),children:_})})}),u)}var X=Object(v.classnames)("".concat(i,"-trigger"),"".concat(i,"-").concat(l,"-trigger"),"".concat(i,"-").concat(l,"-trigger-").concat(V),c,null===(t=z)||void 0===t?void 0:t.popupClassName),J=Object(v.classnames)("".concat(i,"-select-trigger"),Object(o.a)({},"".concat(i,"-select-trigger-normal"),"normal"===u||"btn"===u)),Q=Object(y.jsx)("div",{className:J,children:Object(y.jsx)(C,Object(a.a)(Object(a.a)({weId:"".concat(this.props.weId||"","_c5a1fu")},this.props),{},{showScroller:!0,onItemClick:this.onSelectMenuItemClick}))});P&&(z=Object(a.a)(Object(a.a)({},z),{},{getPopupContainer:this.getSelectContent}));var Y=Object(y.jsx)(S.a,Object(a.a)(Object(a.a)({weId:"".concat(this.props.weId||"","_mec288"),popup:Q},z),{},{popupClassName:X,children:_}),u);return"btn"===u?Object(y.jsxs)("div",{className:"".concat(i,"-select-btn ").concat(i,"-select-btn-").concat(m),children:[f||Object(y.jsxs)(L.a,{weId:"".concat(this.props.weId||"","_txbq42"),className:"".concat(i,"-select-btn-button"),type:m,onClick:this.onBtnClick,children:[p&&Object(y.jsx)("span",{className:"".concat(i,"-select-btn-button-icon"),children:"string"===typeof p?Object(y.jsx)(E.b,{weId:"".concat(this.props.weId||"","_c2tqqh"),name:p}):p}),d]}),Y]}):Y}}]),n}(d.PureComponent),W=n(556),z=n(557),_=n(186),U=n(558),B=["className","style"],K=h.a.message,F="FIREFOX"===(null===(M=v.ua.browser)||void 0===M?void 0:M.toUpperCase()),H="IE"===(null===(A=v.ua.browser)||void 0===A?void 0:A.toUpperCase()),q=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var o;return Object(r.a)(this,n),(o=t.call(this,e)).container=void 0,o.sensitive=void 0,o.entityGroupChat=void 0,o.tabsRef=Object(d.createRef)(),o.copyAndPaste=void 0,o.getUserConfig=function(){var e,t;if((null===(e=window.weappUtils)||void 0===e||null===(t=e.baseConfigInstance)||void 0===t?void 0:t.ready)&&"function"===typeof window.weappUtils.baseConfigInstance.ready){var n;(null===(n=window.weappUtils)||void 0===n?void 0:n.baseConfigInstance).ready((function(e){var t=null===e||void 0===e?void 0:e.configValue,n=(null===t||void 0===t?void 0:t["common.menuExpandType"])||"autoCollapse";o.setState({menuExpandType:n})}))}else{var i,a,c=(null===(i=window.TEAMS)||void 0===i||null===(a=i.userConfig)||void 0===a?void 0:a["common.menuExpandType"])||"autoCollapse";o.setState({menuExpandType:c})}},o.getRealMode=function(){var e=o.props,t=e.type,n=e.mode,i=e.inlineCollapsed;return Object(I.k)(t,n,i)},o.checkEntityGroup=function(e){var t,n=o.props,i=n.showEntityGroup,a=n.entityGroupParams,c=n.type;("select"===c||"rightMenu"===c)&&i&&a&&(null===(t=o.entityGroupChat)||void 0===t||t.checkEntityGroup(a,e))},o.setContainer=function(e){o.container=e},o.onExpandChange=function(e,t,n){if(e&&!e.disabled){var i=o.props,a=i.onBeforeExpandChange,r=i.onExpandChange,s=n||o.state.expandKeys||[];"visible"===t?Object(I.n)(e.id,s)||(s=[].concat(Object(c.a)(s),[e.id])):"hidden"===t?s=s.filter((function(t){return t!==e.id})):"clear"===t&&(s=[]);var l=function(){o.setState({expandKeys:s}),null===r||void 0===r||r(s,e.id)};"function"===typeof a?null===a||void 0===a||a(s,e.id).then((function(e){("boolean"!==typeof e||e)&&l()})):l()}},o.onItemClick=function(e,t,n,i,a){if(e!==_.f&&e!==_.c||Object(m.pauseEvent)(n),!t.disabled){var c=o.props,r=c.onItemClick,s=c.onBeforeChange,l=c.onChange,u=c.type,d=c.selectType,p=function(){var c=o.getRealMode();"tab"!==u&&"secondtab"!==u&&"card"!==u&&("select"!==u||"btnOverlay"!==d&&"normal"!==d)||o.isCommonBtns(e)||o.setState({value:e},(function(){null===a||void 0===a||a()})),null===l||void 0===l||l(e,t,n),null===r||void 0===r||r(e,t,n),!t.parentId&&!t.canBeSelected||"horizontal"!==c&&"vertical"!==c?"menu"===u&&"inline"===c&&o.inlineMenuExpandFunc(t,i):o.onExpandChange(t,"clear"),o.onCommonMenuChange(e,n,H||F)};"function"===typeof s?null===s||void 0===s||s(e,t,n).then((function(e){("boolean"!==typeof e||e)&&p()})):p()}},o.onItemMouseDown=function(e,t,n,i,a){var c=H&&(e===_.c||e===_.f)||F;o.onCommonMenuChange(e,n,!c)},o.onSubItemClick=function(e,t,n,i,a,c){if(!t.disabled){var r=o.props,s=r.type,l=r.onItemClick,u=r.parentCanBeSelected,d=r.onBeforeChange,p=r.onChange,v=o.getRealMode();if(null===l||void 0===l||l(e,t,n),void 0!==t.canBeSelected?t.canBeSelected:u){var f=function(){o.setState({value:e},(function(){null===c||void 0===c||c()})),null===p||void 0===p||p(e,t,n)};"function"===typeof d?null===d||void 0===d||d(e,t,n).then((function(e){("boolean"!==typeof e||e)&&f()})):f(),a&&o.onExpandChange(t,"clear")}"menu"===s&&"inline"===v&&o.inlineMenuExpandFunc(t,i)}},o.onSubItemPopupVisibleChange=function(e,t){o.onExpandChange(t||{id:""},e?"visible":"hidden")},o.inlineMenuExpandFunc=function(e,t){var n,i=o.state.menuExpandType,a=o.state.expandKeys||[];Object(I.n)(e.id,a||[])?a=a.filter((function(t){return t!==e.id})):a=[].concat("autoCollapse"===i?Object(c.a)((null===t||void 0===t||null===(n=t[e.id])||void 0===n?void 0:n.parentIds)||[]):Object(c.a)(a),[e.id]);o.onExpandChange(e,void 0,a)},o.onDel=function(e){var t=o.props,n=t.onDelete,i=t.onBeforeDelete,a=o.state.data,c=function(){var t=a.filter((function(t){return t.id!==e}));o.setState({data:t}),null===n||void 0===n||n(t,e)};"function"===typeof i?null===i||void 0===i||i(e).then((function(e){("boolean"!==typeof e||e)&&c()})):c()},o.onDrag=function(e){var t=o.props.onDrag,n=o.state.data,i=e.oldIndex,a=e.newIndex;if(i!==a){var r=Object(c.a)(n);i>a?(r.splice(a,0,r[i]),r.splice(i+1,1)):(r.splice(a+1,0,r[i]),r.splice(i,1)),null===t||void 0===t||t(r,e)}},o.isCommonBtns=function(e){var t;return["url","help","entityGroup"].indexOf(e)>=0||(null===(t=o.sensitive)||void 0===t?void 0:t.key)===e},o.onCommonMenuChange=function(e,t,n){var i,a,c,r,s,l,u,d=o.props,p=d.showSensitive,f=d.helpUrl,h=d.entityGroupParams,m=d.showCopyAndPaste,j=d.activeElementProps;(p&&e===(null===(i=o.sensitive)||void 0===i?void 0:i.key)&&(null===(a=o.sensitive)||void 0===a||a.onClick(e)),"url"===e)&&(b()(window.location.href)&&K({type:"success",content:Object(v.getLabel)("137900","\u590d\u5236\u6210\u529f")}));("help"===e&&f&&v.weappSDK.openLink({url:f}),"entityGroup"===e&&h&&(null===(c=o.entityGroupChat)||void 0===c||c.openEntityGroup(h)),!n&&m&&o.copyAndPaste)&&(e===_.c&&(null===(r=o.copyAndPaste)||void 0===r||null===(s=r.copy)||void 0===s||s.call(r,t)),e===_.f&&e===_.f&&(null===(l=o.copyAndPaste)||void 0===l||null===(u=l.paste)||void 0===u||u.call(l,t,j)))},o.isShowMenu=function(e){var t=o.props,n=t.showSensitive,i=t.showUrl,a=t.showHelp,c=t.showEntityGroup,r=t.type;return!(e&&0===e.length&&("select"===r||"rightMenu"===r)&&(n||i||a||c))},o.overwriteData=function(e){var t,n,i,c=o.props,r=c.type,s=c.showSensitive,l=c.showEntityGroup,u=c.showCopyAndPaste;s&&("select"===r||"rightMenu"===r)&&o.sensitive&&(e=(null===(t=o.sensitive)||void 0===t?void 0:t.overwriteData(e))||e);!l||"select"!==r&&"rightMenu"!==r||(e=(null===(n=o.entityGroupChat)||void 0===n?void 0:n.overwriteData(e,o.props))||e);!u||"select"!==r&&"rightMenu"!==r||(e=(null===(i=o.copyAndPaste)||void 0===i?void 0:i.overwriteData(e))||e);var d=Object(I.q)(e),p=Object(I.p)(e)?{groupId:_.a}:"",f=d?[{propsKey:"showHelp",data:Object(a.a)({id:_.e,content:Object(v.getLabel)("101675","\u5e2e\u52a9"),icon:"Icon-help"},p),id:_.e},{propsKey:"showUrl",data:Object(a.a)({id:_.h,content:Object(v.getLabel)("28641","\u590d\u5236\u94fe\u63a5"),icon:"Icon-copy"},p),id:_.h}]:[{propsKey:"showHelp",data:Object(a.a)({id:_.e,content:Object(v.getLabel)("101675","\u5e2e\u52a9")},p),id:_.e},{propsKey:"showUrl",data:Object(a.a)({id:_.h,content:Object(v.getLabel)("28641","\u590d\u5236\u94fe\u63a5")},p),id:_.h}];return"select"!==r&&"rightMenu"!==r||f.forEach((function(t){var n,i,a=t.propsKey,c=o.props[a];"showHelp"===a&&c&&(c="1"!==(null===(n=window.TEAMS)||void 0===n||null===(i=n.globalConfig)||void 0===i?void 0:i.helpDisabled));c&&!e.find((function(e){return e.id===t.id}))&&e.push(t.data)})),e},o.renderContnet=function(){var e=o.props,t=(e.className,e.style,Object(i.a)(e,B)),n=t.prefixCls,c=t.type,r=t.popupPlacement,s=o.state,l=s.data,u=s.value,d=s.expandKeys,p=s.activeKeys,v="boolean"===typeof t.childChangeToUpdateParent?t.childChangeToUpdateParent:"tab"===c,f=o.overwriteData(l);if(!o.isShowMenu(f))return null;var b=Object(a.a)(Object(a.a)({},t),{},{childChangeToUpdateParent:v,data:f,value:u,bindRef:!0,expandKeys:d,activeKeys:p,onItemClick:o.onItemClick,onItemMouseDown:o.onItemMouseDown,onSubItemClick:o.onSubItemClick,onSubItemPopupVisibleChange:o.onSubItemPopupVisibleChange,onDel:o.onDel,onDrag:o.onDrag});if("tab"===c||"secondtab"===c||"card"===c)return Object(y.jsx)(V,Object(a.a)({weId:"".concat(o.props.weId||"","_wt9wk8"),ref:o.tabsRef},b));if("select"===c)return Object(y.jsx)(G,Object(a.a)({weId:"".concat(o.props.weId||"","_cud3yo")},b));if("rightMenu"===c){var h=r||Object(I.i)();return Object(y.jsx)("div",{className:"".concat(n,"-select-cover-container ").concat(n,"-select-cover-container-").concat(h),children:Object(y.jsx)("div",{className:"".concat(n,"-trigger ").concat(n,"-trigger-").concat(c," ").concat(n,"-select-cover-content"),children:Object(y.jsx)(C,Object(a.a)({weId:"".concat(o.props.weId||"","_w7q2vb"),showScroller:!0},b))})})}return Object(y.jsx)(C,Object(a.a)({weId:"".concat(o.props.weId||"","_bcx0pn")},b))},o.state={value:e.value||e.defaultValue||"",data:e.data||[],expandKeys:e.expandKeys||e.defaultExpandKeys||[],activeKeys:e.activeKeys||[],menuExpandType:"autoCollapse"},o}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.showSensitive,n=e.showEntityGroup,o=e.showCopyAndPaste;t&&(this.sensitive=new W.default(this),this.sensitive.init()),n&&(this.entityGroupChat=new z.default(this),this.checkEntityGroup()),this.getUserConfig(),o&&(this.copyAndPaste=new U.default(this),this.forceUpdate())}},{key:"getSnapshotBeforeUpdate",value:function(e){var t=e.entityGroupParams,n=this.props.entityGroupParams;if(!Object(m.isEqual)(t,n)){var o=Object(m.isEqual)(t,n,["entityId","module","user","join","createEntityGroupParams"]);this.checkEntityGroup(o)}}},{key:"render",value:function(){var e,t,n=this.props.data;if(!n||n.length<0)return null;var i=this.props,a=i.prefixCls,c=i.className,r=i.style,s=i.customRender,l=i.type,u=i.position,d=i.hideBottomLine,p=i.hideActiveLine,f=i.removeItemWidthLimit,b=i.overflowType,h=i.secondtabType,m=i.menuType,j=i.inlineCollapsed,O=Object(v.classnames)(a,(e={},Object(o.a)(e,"".concat(a,"-").concat(l),!0),Object(o.a)(e,"".concat(a,"-limit"),("tab"===l||"secondtab"===l||"card"===l)&&!f),Object(o.a)(e,"".concat(a,"-hasmore"),("tab"===l&&"top"===u||"secondtab"===l||"card"===l)&&"more"===b),Object(o.a)(e,"".concat(a,"-secondtab-new"),"secondtab"===l&&"new"===h),Object(o.a)(e,"".concat(a,"-menu-special"),"menu"===l&&"special"===m),Object(o.a)(e,"".concat(a,"-menu-inline-collapsed"),"menu"===l&&j),Object(o.a)(e,"".concat(a,"-").concat(l,"-").concat(u),"tab"===l||"select"===l),Object(o.a)(e,"".concat(a,"-hideBottomLine"),("tab"===l||"secondtab"===l||"card"===l)&&d),Object(o.a)(e,"".concat(a,"-hideActiveLine"),("tab"===l||"secondtab"===l||"card"===l)&&p),e),c),g=Object(y.jsxs)("div",{className:O,style:r,ref:this.setContainer,children:[this.renderContnet(),null===(t=this.sensitive)||void 0===t?void 0:t.render({weId:this.props.weId})]});return"function"===typeof s?s(this,g):g}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n={};return Object(m.needSync)("value",e)&&e.value!==t.value&&(n.value=e.value),Object(m.needSync)("expandKeys",e)&&(n.expandKeys=e.expandKeys),Object(m.needSync)("activeKeys",e)&&(n.activeKeys=e.activeKeys),Object(m.needSync)("data",e)&&(n.data=e.data||[]),Object.keys(n).length>0?n:null}}]),n}(d.PureComponent);q.defaultProps={type:"tab",selectType:"normal",secondtabType:"normal",menuType:"normal",overflowType:"more",position:"top",mode:"horizontal",inlineCollapsed:!1,inlineIndent:0,addIconPosition:"right",sortable:!1,cover:!1,sortableOptions:{},parentCanBeSelected:!1,showBorder:!1,showBorderRadius:!1,showDropDownIcon:!1,hideBottomLine:!1,hideActiveLine:!1,showTitle:!0,needFormatData:!0,removeItemWidthLimit:!1,bindTriggerContainer:!1,selectButtonType:"primary"};t.default=q}}]);
//# sourceMappingURL=menu.js.map?v=d2dde5f2